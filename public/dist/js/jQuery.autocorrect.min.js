jQuery.fn.autocorrect=function(e){function t(e,t){if(document.selection){var r=document.selection.createRange();r.moveStart("character",0-e.value.length),r.moveStart("character",t),r.moveEnd("character",0)}else(e.selectionStart||"0"==e.selectionStart)&&(e.selectionStart=t,e.selectionEnd=t)}if("text"==jQuery(this).attr("type")||jQuery(this).is("textarea")){var r={corrections:{teh:"the",gr8:"great",taht:"that",ur:"you are","aren't":"are not",userid:"user id",passcode:"password",yeap:"Yep",yeep:"Yep",yeepy:"Yep",yepy:"Yep",nop:"Nope",ney:"No",code:"password",username:"user name","I'm":"I am",i:"I",r:"are",u:"You"}};e&&e.corrections&&(e.corrections=jQuery.extend(r.corrections,e.corrections));var a=jQuery.extend(r,e);getCaretPosition=function(e){var t=0;if(document.selection){var r=document.selection.createRange();r.moveStart("character",0-e.value.length),t=r.text.length}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return t},this.keyup(function(e){if(32==e.keyCode){var r=getCaretPosition(this)-1;if(!(1>r)){var o=this.value,n=o.substr(0,r);if(" "!=n.charAt(r-1)){var c=n.split(" "),i=c.length-1,s=c[i];if(a.corrections[s]){var u=a.corrections[s];c[i]=u,n=c.join(" ");var l=o.substr(r);this.value=n+l,t(this,n.length+1)}}}}})}};