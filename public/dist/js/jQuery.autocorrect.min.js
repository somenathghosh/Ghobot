jQuery.fn.autocorrect=function(e){function t(e,t){if(document.selection){var r=document.selection.createRange();r.moveStart("character",0-e.value.length),r.moveStart("character",t),r.moveEnd("character",0)}else(e.selectionStart||"0"===e.selectionStart)&&(e.selectionStart=t,e.selectionEnd=t)}if("text"===jQuery(this).attr("type")||jQuery(this).is("textarea")){var r={corrections:{teh:"the",gr8:"great",taht:"that",ur:"you are","aren't":"are not",userid:"user id",passcode:"password",yeap:"Yep",yeep:"Yep",yeepy:"Yep",yepy:"Yep",nop:"Nope",ney:"No",code:"password",username:"user name","I'm":"I am",i:"I",r:"are",u:"You",ths:"this",thsi:"this",s:"Yes",S:"Yes",emailid:"email id",emailaddress:"email address",mail:"email",mailid:"email id",mailaddress:"email address","that's":"that is",rg8:"right",r8:"right",thx:"Thanks",yap:"Yep","don't":"do not"}};e&&e.corrections&&(e.corrections=jQuery.extend(r.corrections,e.corrections));var a=jQuery.extend(r,e);getCaretPosition=function(e){var t=0;if(document.selection){var r=document.selection.createRange();r.moveStart("character",0-e.value.length),t=r.text.length}else(e.selectionStart||"0"===e.selectionStart)&&(t=e.selectionStart);return t},this.keyup(function(e){if(32===e.keyCode){var r=getCaretPosition(this)-1;if(!(1>r)){var i=this.value,s=i.substr(0,r);if(" "!==s.charAt(r-1)){var o=s.split(" "),n=o.length-1,c=o[n];if(a.corrections[c]){var l=a.corrections[c];o[n]=l,s=o.join(" ");var h=i.substr(r);this.value=s+h,t(this,s.length+1)}}}}})}};