jQuery.fn.autocorrect=function(t){function e(t,e){if(document.selection){var r=document.selection.createRange();r.moveStart("character",0-t.value.length),r.moveStart("character",e),r.moveEnd("character",0)}else(t.selectionStart||"0"==t.selectionStart)&&(t.selectionStart=e,t.selectionEnd=e)}if("text"==jQuery(this).attr("type")||jQuery(this).is("textarea")){var r={corrections:{teh:"the",gr8:"great",taht:"that",ur:"you are",arent:"are not",userid:"user id",passcode:"password"}};t&&t.corrections&&(t.corrections=jQuery.extend(r.corrections,t.corrections));var a=jQuery.extend(r,t);getCaretPosition=function(t){var e=0;if(document.selection){var r=document.selection.createRange();r.moveStart("character",0-t.value.length),e=r.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e},this.keyup(function(t){if(32==t.keyCode){var r=getCaretPosition(this)-1;if(!(1>r)){var o=this.value,n=o.substr(0,r);if(" "!=n.charAt(r-1)){var c=n.split(" "),i=c.length-1,s=c[i];if(a.corrections[s]){var u=a.corrections[s];c[i]=u,n=c.join(" ");var l=o.substr(r);this.value=n+l,e(this,n.length+1)}}}}})}};